<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>gfarmbb</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry">
<a name="gfarmbb.1"></a><div class="titlepage"></div>
<div class="refnamediv">
<a name="name"></a><h2>Name</h2>
<p>gfarmbb â€” start and stop Gfarm/BB (Gfarm for node-local burst buffer)</p>
</div>
<div class="refsynopsisdiv">
<a name="synopsis"></a><h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">gfarmbb</code>  [<em class="replaceable"><code>options</code></em>]  <em class="replaceable"><code>mode</code></em> </p></div>
</div>
<div class="refsect1">
<a name="description"></a><h2>DESCRIPTION</h2>
<p>
Gfarm/BB is an on-demand user-level file system for node-local
storages on compute nodes.  <span class="command"><strong>gfarmbb</strong></span>
starts a Gfarm/BB and stops it.
The <em class="parameter"><code>mode</code></em> should be start, stop
or status.  When the mode is start, it displays the environment
variable that should be eval'ed to use Gfarm commands as follows;
</p>
<p>
% eval `gfarmbb start`
</p>
<p>
Basically, specify the same option for start, stop and status.
</p>
</div>
<div class="refsect1">
<a name="options"></a><h2>OPTIONS</h2>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term"><code class="option">-mpi</code> <em class="parameter"><code>mpirun_cmd</code></em></span></dt>
<dd><p>
sets up Gfarm/BB using MPI instead of gfarm-prun.
<em class="parameter"><code>mpirun_cmd</code></em> is a command
line to execute MPI that is used to configure and execute gfsd on each
node.  This option should be used with the -conf option.  When using
this option, the -e option and the -h option are ignored.
</p></dd>
<dt><span class="term"><code class="option">-e</code></span></dt>
<dd><p>
excludes Gfmd node from file system nodes.  Gfmd is executed on the
node where gfarmbb is executed.  With this option, gfsd is not
executed on that node.  This option expects there are N + 1 node
allocations, and gfarmbb is executed on the last host in the hostfile.
This option is available only for gfarmbb start.
</p></dd>
<dt><span class="term"><code class="option">-h</code> <em class="parameter"><code>hostfile</code></em></span></dt>
<dd><p>
specifies a <em class="parameter"><code>hostfile</code></em> that
contains a list of hostnames of compute nodes.
</p></dd>
<dt><span class="term"><code class="option">-scr</code> <em class="parameter"><code>scratch_dir</code></em></span></dt>
<dd><p>
specifies a scratch directory on each compute node for Gfarm/BB.  If
it does not exist, it is created.  This directory will be removed by
gfarmbb stop.  Default is /tmp/gfarmbb-scratch.
</p></dd>
<dt><span class="term"><code class="option">-conf</code> <em class="parameter"><code>conf_dir</code></em></span></dt>
<dd><p>
specifies a scratch directory that can be shared among compute nodes
to store temporal configuration files.  If it does not exist, it is
created.  This directory will be removed by gfarmbb stop.
</p></dd>
<dt><span class="term"><code class="option">-l</code></span></dt>
<dd><p>
enables access to Gfarm/BB from login nodes.  With this option, the
Gfarm/BB configuration file $HOME/.gfarm2rc-$ID is created in the home
directory.  ID consists of the hostname of the master compute node and
the process ID.  To access to Gfarm/BB, specify it by
GFARM_CONFIG_FILE environment variable.
</p></dd>
<dt><span class="term"><code class="option">-L</code> <em class="parameter"><code>log_dir</code></em></span></dt>
<dd><p>
specifies a log directory.  If it does not exist, it is created.  Log
file names of gfmd and gfsd are gfmd-$ID.log and gfsd-$ID.log,
respectively.  Default directory is scratch_dir/log.
This option is available only for gfarmbb start.
</p></dd>
<dt><span class="term"><code class="option">-m</code> <em class="parameter"><code>mount_point</code></em></span></dt>
<dd><p>
When this option is specified, a Gfarm/BB is mounted at the specified
mount point on each compute node.  mount.gfarm2fs is required.  This
option is available only for gfarmbb start.
</p></dd>
<dt><span class="term"><code class="option">-p</code> <em class="parameter"><code>period</code></em></span></dt>
<dd><p>
specifies the period of a shared secret key in seconds for Gfarm/BB.
This period should be longer than the job execution duration.  Default
is 86400 seconds (1 day).
This option is available only for gfarmbb start.
</p></dd>
<dt><span class="term"><code class="option">-c</code></span></dt>
<dd><p>
generates C-shell commands.  This option is available only for gfarmbb
start.
</p></dd>
<dt><span class="term"><code class="option">-s</code></span></dt>
<dd><p>
generates Bourne shell commands.  This option is available only for
gfarmbb start.  This is default.
</p></dd>
</dl></div>
</div>
</div></body>
</html>

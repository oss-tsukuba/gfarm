<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>gfarm.conf</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="GFARM.CONF.5"
></A
>gfarm.conf</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="NAME"
></A
><H2
>Name</H2
>gfarm.conf&nbsp;--&nbsp;Gfarm configuration file</DIV
><DIV
CLASS="REFSECT1"
><A
NAME="DESCRIPTION"
></A
><H2
>DESCRIPTION</H2
><P
>gfarm.conf is a text file that contains a Gfarm configuration.  
Gfarm server processes, such as gfmd and gfsd, refer to %%SYSCONFDIR%%/gfarm.conf by default.  Since this configuration file is only read at startup, it is necessary to restart servers when the contents of the configuration file are updated.</P
><P
>Application programs, such as gfls and gfhost, refer to both
%%SYSCONFDIR%%/gfarm.conf, and a file specified by an environment variable,
GFARM_CONFIG_FILE. If both configuration files exist, the file
specified by the environment variable, GFARM_CONFIG_FILE, is read
first. Both files have the same grammar.
If the environment variable GFARM_CONFIG_FILE doesn't exist,
 ~/.gfarmrc in a user's home directory is used instead.</P
><P
>Each line of gfarm.conf consists of one statement.  When the
line ends with the character ``\'', the line continues for the next
line.  A word beginning with ``#'' causes that word and all remaining
characters on that line to be ignored.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="HOSTSPECIFICATION"
></A
><H2
>Host_specification</H2
><P
><TT
CLASS="PARAMETER"
><I
>Host_specification</I
></TT
> has the following
forms.</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="PARAMETER"
><I
>III.JJJ.KKK.LLL</I
></TT
></DT
><DD
><P
>Specifies an IP address with four octets from 0 to 255, separated
by ".".</P
></DD
><DT
><TT
CLASS="PARAMETER"
><I
>III.JJJ.KKK.LLL</I
></TT
>/<TT
CLASS="PARAMETER"
><I
>MM</I
></TT
></DT
><DD
><P
>Specifies a network address with an IP address and a netmask
from 0 to 31 separated by "/".</P
></DD
><DT
><TT
CLASS="PARAMETER"
><I
>domain.name</I
></TT
></DT
><DD
><P
>Specifies a host name.</P
></DD
><DT
><TT
CLASS="PARAMETER"
><I
>.domain.name</I
></TT
></DT
><DD
><P
>Specifies all hosts which belong to the domain.name.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>*</I
></DT
><DD
><P
>Specifies all hosts.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="STATEMENT"
></A
><H2
>Statement</H2
><P
>The following statements are supported.</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SPAN
CLASS="TOKEN"
>spool</SPAN
> <TT
CLASS="PARAMETER"
><I
>directory</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>spool</SPAN
> statement specifies a spool directory
for a Gfarm filesystem on this filesystem node.  On the filesystem
node, this statement should be specified.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	spool&nbsp;/var/spool/gfarm</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_listen_address</SPAN
> <TT
CLASS="PARAMETER"
><I
>IP-address</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>spool_server_listen_address</SPAN
> statement specifies
the IP address at which the gfsd accepts TCP and UDP requests.
The default address is all IP addresses of the host.
This option is useful when one wants to invoke multiple gfsd
to provide multiple spool directories on the host.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_listen_address&nbsp;192.168.121.1</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_serverport</SPAN
> <TT
CLASS="PARAMETER"
><I
>port</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>spool_serverport</SPAN
> statement specifies the tcp
and udp port number the gfsd is listening on.  The default port number
is 600.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	spool_serverport&nbsp;600</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_type</I
></TT
></DT
><DD
><P
>This statement specifies the type of credential used by gfsd for GSI
authentication.
This is ignored when you are using <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> 
authentication.</P
><P
>If this statement isn't used on the server side, the server uses
a host certificate, if the server is invoked with root privileges.
Or, if the server is invoked as a non-privileged user, the server
uses the user's certificate. Thus, you usually don't need to use
this statement on the server side.</P
><P
>If this statement isn't used on the client side, the client assumes
that the server that the client is going to connect is using
a host certificate of the server host. Thus, if the server is not
invoked with root privileges, but invoked with user privileges where
the user is the same as the user who invoked the client, the client
side needs to specify the following one line.</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_cred_type&nbsp;self</P
><P
>The possible types of <TT
CLASS="PARAMETER"
><I
>cred_type</I
></TT
> are
``<SPAN
CLASS="TOKEN"
>self</SPAN
>'', 
``<SPAN
CLASS="TOKEN"
>host</SPAN
>'', ``<SPAN
CLASS="TOKEN"
>user</SPAN
>'' and 
``<SPAN
CLASS="TOKEN"
>mechanism-specific</SPAN
>''.
And those are used with the <SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
>
and <SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
> statements as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SPAN
CLASS="TOKEN"
>self</SPAN
></DT
><DD
><P
>This keyword specifies that the certificate that the user currently
has is used.
You must not use either the 
<SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
> or
<SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
> statement,
if you are using this type.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>host</SPAN
></DT
><DD
><P
>This keyword specifies that a host certificate or a service certificate
is used.
To choose a service certificate, the name of the service may be specified
by the <SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
> statement.
If ``<SPAN
CLASS="TOKEN"
>host</SPAN
>'' is specified as the service name, a host certificate
in the file ``<TT
CLASS="FILENAME"
>/etc/grid-security/hostcert.pem</TT
>'' will
be used.
If any server name other than ``<SPAN
CLASS="TOKEN"
>host</SPAN
>'' is specified,
a service certificate in the file
``<TT
CLASS="FILENAME"
>/etc/grid-security/SERVICE/SERVICEcert.pem</TT
>''
will be used.
If the service name is omitted, ``<SPAN
CLASS="TOKEN"
>host</SPAN
>'' will be used as
the service name by default.
Only the Common Name field of a certificate will be used to check
the server's identity for both a host certificate and a service certificate.
And the Common Name field must be in the ``CN=SERVERNAME/HOSTNAME'' format.
Also, the hostname must match the canonical name configured by
the <B
CLASS="COMMAND"
>gfhost</B
> command exactly.  Alias hostnames are not allowed.</P
><P
>This feature corresponds to the GSS_C_NT_HOSTBASED_SERVICE feature in GSSAPI
(RFC2743/RFC2744).</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_cred_type&nbsp;host<br>
	spool_server_cred_service&nbsp;host</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>user</SPAN
></DT
><DD
><P
>This keyword specifies that a user certificate is used.
The account name of the user may be specified by the
<SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
> statement.
If the account name is omitted, the user who invoked the command
will be used by default.
You must not specify a service name using
the <SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
> statement, if you are using
a user certificate.</P
><P
>Currently, there are several implementation limitations in this feature.
First, the account name is interpreted as an account on the local host,
but this is a bug, and will be changed to a gfarm global user name
in the future.
Second, to map from the account name to a Distinguished Name of a certificate,
file ``<TT
CLASS="FILENAME"
>/etc/grid-security/grid-mapfile</TT
>'' is used.
Thus, if there isn't such a file, or if the user isn't specified in this file,
this feature cannot be used.
Third, if there are multiple Distinguished Names per one account in this file,
only the first Distinguished Name is used, and the rest of the Distinguished
Names for the account are ignored.</P
><P
>This feature corresponds to the GSS_C_NT_USER_NAME feature in GSSAPI
(RFC2743/RFC2744).</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_cred_type&nbsp;user<br>
	spool_server_cred_name&nbsp;guest</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>mechanism-specific</SPAN
></DT
><DD
><P
>This keyword specifies that <SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
>
is treated as a raw X.509 Distinguished Name serving as a server's
certificate.
You must not specify a service name using a
<SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
> statement, if you are using
this type.</P
><P
>This feature corresponds to a case where GSS_C_NO_OID is specified
as a Name Type in GSSAPI (RFC2743/RFC2744).</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_cred_type&nbsp;mechanism-specific<br>
	spool_server_cred_name&nbsp;"/O=Grid/O=Globus/OU=example.com/CN=John&nbsp;Smith"</P
></DD
></DL
></DIV
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_service</I
></TT
></DT
><DD
><P
>This statement specifies the service name of a service certificate
used by gfsd for GSI authentication, when ``<SPAN
CLASS="TOKEN"
>host</SPAN
>'' is specified
in <SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> statement.
This is ignored when you are using <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> 
authentication.
Please read the description of the <SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> 
statement for details.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_name</I
></TT
></DT
><DD
><P
>This statement specifies the setting of a certificate used by gfsd
for GSI authentication. What this setting means depends on the type
specified in the <SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> statement.
This is ignored when you are using <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> 
authentication.
Please read the description of the <SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> 
statement for details.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_serverhost</SPAN
> <TT
CLASS="PARAMETER"
><I
>hostname</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>metadb_serverhost</SPAN
> statement specifies the
host name on which gfmd is running.</P
><P
>This statement cannot be omitted.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	metadb_serverhost&nbsp;ldap.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_serverport</SPAN
> <TT
CLASS="PARAMETER"
><I
>port</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>metadb_serverport</SPAN
> statement specifies the tcp
port number the gfmd is listening on.  The default port number is
601.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	metadb_serverport&nbsp;601</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_cred_type</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_type</I
></TT
></DT
><DD
><P
>This statement specifies the type of credential used by gfmd
for GSI authentication.
This is ignored when you are using <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> 
authentication.
Please read the description of the <SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> 
statement on the configuration of this statement.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_cred_service</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_service</I
></TT
></DT
><DD
><P
>This statement specifies the service name of a service certificate
used by gfmd for GSI authentication, when ``<SPAN
CLASS="TOKEN"
>host</SPAN
>'' is specified
in <SPAN
CLASS="TOKEN"
>metadb_server_cred_type</SPAN
> statement.
This is ignored when you are using <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> 
authentication.
Please read the description of the <SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> 
statement on the configuration of this statement.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_cred_name</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_name</I
></TT
></DT
><DD
><P
>This statement specifies the setting of a certificate used by gfmd
for GSI authentication. What this setting means depends on the type
specified in the <SPAN
CLASS="TOKEN"
>metadb_server_cred_type</SPAN
> statement.
This is ignored when you are using <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> 
authentication.
Please read the description of the <SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> 
statement on the configuration of this statement.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>agent_serverhost</SPAN
> <TT
CLASS="PARAMETER"
><I
>hostname</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>agent_serverhost</SPAN
> statement specifies the
host name on which gfarm_agent is running.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	agent_serverhost&nbsp;ldap.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>agent_serverport</SPAN
> <TT
CLASS="PARAMETER"
><I
>port</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>agent_serverport</SPAN
> statement specifies the tcp
port number the gfarm_agent is listening on.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	agent_serverport&nbsp;603</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_serverhost</SPAN
> <TT
CLASS="PARAMETER"
><I
>hostname</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>ldap_serverhost</SPAN
> statement specifies the host
name on which the LDAP server for filesystem metadata is running.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	ldap_serverhost&nbsp;ldap.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_serverport</SPAN
> <TT
CLASS="PARAMETER"
><I
>port</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>ldap_serverport</SPAN
> statement specifies the tcp
port number of the LDAP server.</P
><P
>This statement cannot be omitted
  if <SPAN
CLASS="TOKEN"
>ldap_serverhost</SPAN
> is specified.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	ldap_serverport&nbsp;602</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_base_dn</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAP_base_distinguished_name</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>ldap_base_dn</SPAN
> statement specifies the
base-distinguished name of the LDAP database.</P
><P
>This statement cannot be omitted
  if <SPAN
CLASS="TOKEN"
>ldap_serverhost</SPAN
> is specified.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	ldap_base_dn&nbsp;"dc=example,&nbsp;dc=com"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_bind_dn</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAP_bind_distinguished_name</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>ldap_bind_dn</SPAN
> statement specifies the
distinguished name for the bind operation which is used for authentication
to the LDAP database.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	ldap_bind_dn&nbsp;"cn=gfarmuser,&nbsp;dc=example,&nbsp;dc=com"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_bind_password</SPAN
> <TT
CLASS="PARAMETER"
><I
>password</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>ldap_bind_password</SPAN
> statement specifies the
password for the bind operation which is used for authentication
to the LDAP database.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	ldap_bind_password&nbsp;"secret-ldap-password"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_serverhost</SPAN
> <TT
CLASS="PARAMETER"
><I
>hostname</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>postgresql_serverhost</SPAN
> statement specifies the host
name on which the PostgreSQL server is running.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_serverhost&nbsp;postgresql.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_serverport</SPAN
> <TT
CLASS="PARAMETER"
><I
>port</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>postgresql_serverport</SPAN
> statement specifies the tcp
port number of the PostgreSQL server.</P
><P
>This statement cannot be omitted
  if <SPAN
CLASS="TOKEN"
>postgresql_serverhost</SPAN
> is specified.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_serverport&nbsp;602</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_dbname</SPAN
> <TT
CLASS="PARAMETER"
><I
>dbname</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>postgresql_dbname</SPAN
> statement specifies the
  database name of the PostgreSQL database.</P
><P
>This statement cannot be omitted
  if <SPAN
CLASS="TOKEN"
>postgresql_serverhost</SPAN
> is specified.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_dbname&nbsp;gfarm</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_user</SPAN
> <TT
CLASS="PARAMETER"
><I
>user</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>postgresql_user</SPAN
> statement specifies the
  username used to connect the PostgreSQL database.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_user&nbsp;gfarm</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_password</SPAN
> <TT
CLASS="PARAMETER"
><I
>password</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>postgresql_password</SPAN
> statement specifies the
  password used to connect the PostgreSQL database.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_password&nbsp;gfarm</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_conninfo</SPAN
> <TT
CLASS="PARAMETER"
><I
>connection_info</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>postgresql_conninfo</SPAN
> statement specifies the
  connection option used to connect the PostgreSQL database.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_conninfo&nbsp;"sslmode=require&nbsp;connect_timeout=30"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>auth</SPAN
> <TT
CLASS="PARAMETER"
><I
>validity</I
></TT
>
<TT
CLASS="PARAMETER"
><I
>method</I
></TT
> <TT
CLASS="PARAMETER"
><I
>Host_specification</I
></TT
></DT
><DD
><P
>This statement specifies the authentication method when
communicating with the host(s) specified by the third argument.</P
><P
>The first argument should be either the <SPAN
CLASS="TOKEN"
>enable</SPAN
> or
<SPAN
CLASS="TOKEN"
>disable</SPAN
> keyword.
The second argument, <TT
CLASS="PARAMETER"
><I
>auth method</I
></TT
>, should be
the <SPAN
CLASS="TOKEN"
>gsi</SPAN
>, <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>, or <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>
keyword.
The third argument specifies the host(s) by using <TT
CLASS="PARAMETER"
><I
>Host
specification</I
></TT
>.</P
><P
>The <SPAN
CLASS="TOKEN"
>auth</SPAN
> statement may be specified any number of
times.  For each authentication method, it becomes a candidate when
the first entry whose host_specification matches the target host has
the <SPAN
CLASS="TOKEN"
>enable</SPAN
> keyword.  When there is no corresponding
entry, or when the first corresponding entry has the
<SPAN
CLASS="TOKEN"
>disable</SPAN
> keyword, the authentication method does not
become a candidate.</P
><P
>This process takes place on both client and server sides.
Candidates for authentication method on both sides will be
tried.</P
><P
>The order of statements with different authentication methods is
not relevant.  When there are several candidates for the authentication
method for the host, the order of the authentication trial is
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>, <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>,
and then <SPAN
CLASS="TOKEN"
>gsi</SPAN
>.</P
><P
>The GSI methods are available if and only if the
--with-globus option is specified at configuration.  When the methods are
not available, an <SPAN
CLASS="TOKEN"
>auth</SPAN
> statement with
<SPAN
CLASS="TOKEN"
>gsi</SPAN
> or <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
> will be ignored.</P
><P
>This statement cannot be omitted.</P
><P
>Limitation:</P
><P
>You cannot mix <SPAN
CLASS="TOKEN"
>gsi</SPAN
> authenticaion and
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> authentication in most cases.
You cannot mix <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
> and <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>
in most	cases either.</P
><P
>This is because when a gfarm client like gfrcmd, gfrun, gfrep or
gfarmfs with automatic replication enabled (gfarmfs -N) accesses
a gfarm filesystem node, the gfarm filesystem node accesses another
gfarm filesystem node.
If <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> authentication is performed at the access
to the first filesystem node, and if <SPAN
CLASS="TOKEN"
>gsi</SPAN
>
(or <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>) authentication is required at the access
to the second filesystem node, the access to the second filesystem node
will fail, because the gfarm client doesn't pass its GSI proxy certificate
to the first gfarm filesystem node (since it doesn't use
<SPAN
CLASS="TOKEN"
>gsi</SPAN
> or <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
> but
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>), thus the first filesystem node cannot use
any GSI proxy certificate to access the second filesystem node.</P
><P
>That means you can mix <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> and
<SPAN
CLASS="TOKEN"
>gsi</SPAN
> (or <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>) in certain
cases, if the second access never will use <SPAN
CLASS="TOKEN"
>gsi</SPAN
>
(or <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>) authentication.  For example,
if there is only one PC cluster in your system, and if all nodes
in the cluster share users' home directories via NFS, and
if all gfarm filesystem nodes belong to the cluster,
then you can use <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> authentication within the
cluster, and gfarm clients at outside of the cluster can access the
gfarm filesystem nodes in the cluster by using <SPAN
CLASS="TOKEN"
>gsi</SPAN
>
(or <SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>) authentication.
The following gfarm.conf setting is an example of such configuration,
assuming that the cluster is using 192.168.0.0/24 as its IP address,
and requiring <SPAN
CLASS="TOKEN"
>gsi</SPAN
> authentication from outside of the
cluster.</P
><P
CLASS="LITERALLAYOUT"
>		auth&nbsp;enable&nbsp;sharedsecret&nbsp;192.168.0.0/24<br>
		auth&nbsp;enable&nbsp;gsi&nbsp;*</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	auth&nbsp;disable&nbsp;sharedsecret&nbsp;192.168.0.100<br>
	auth&nbsp;disable&nbsp;sharedsecret&nbsp;192.168.0.101<br>
	auth&nbsp;enable&nbsp;sharedsecret&nbsp;192.168.0.0/24<br>
	auth&nbsp;enable&nbsp;gsi_auth&nbsp;10.0.0.0/8<br>
	auth&nbsp;enable&nbsp;gsi&nbsp;*</P
><P
>In this example, all hosts which belong to the network address
192.168.0.0/24, except for two hosts, 192.168.0.100 and 192.168.0.101,
will be tested for authenticated by both <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>
and <SPAN
CLASS="TOKEN"
>gsi</SPAN
>;
all hosts which belong to the network address 10.0.0.0/8 will be
tested for authentication by both
<SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
> and <SPAN
CLASS="TOKEN"
>gsi</SPAN
>;
and all other hosts will be authenticated by
<SPAN
CLASS="TOKEN"
>gsi</SPAN
>.  Note that two hosts, 192.168.0.100 and
192.168.0.101, will be tested for authentication by gsi only.</P
><P
>Please note that all filesystem nodes must belong to the IP address range
192.168.0.0/24 except 192.168.0.100 and 192.168.0.101 in this example,
due to the reason described in the limitation section.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>netparam</SPAN
> <TT
CLASS="PARAMETER"
><I
>parameter</I
></TT
><I
CLASS="EMPHASIS"
>=</I
><TT
CLASS="PARAMETER"
><I
>value</I
></TT
> <I
CLASS="EMPHASIS"
>[</I
><TT
CLASS="PARAMETER"
><I
>Host_specification</I
></TT
><I
CLASS="EMPHASIS"
>]</I
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>netparam</SPAN
> statement specifies several
communication parameters listed below.</P
><P
><SPAN
CLASS="TOKEN"
>parallel_streams</SPAN
>.  This parameter specifies the
number of tcp streams.  The default is a single stream.  The
<SPAN
CLASS="TOKEN"
>parallel_streams</SPAN
> parameter may improve the file
transfer performance, especially when connecting to a distant site
(i.e., a high bandwidth-delay product network) such that the tcp congestion
window size will not increase sufficiently.  This parameter is only
effective on a client node where the gfrep(1) command is executed.
<TT
CLASS="PARAMETER"
><I
>Host_specification</I
></TT
> specifies the source host(s)
for file replication instead of the destination host(s).</P
><P
><SPAN
CLASS="TOKEN"
>stripe_unit_size</SPAN
>.  This parameter specifies how
to divide the data when utilizing multiple tcp streams.  Without this
parameter, the data will be divided into
<SPAN
CLASS="TOKEN"
>parallel_streams</SPAN
> of contiguous blocks with almost even
size.  When this parameter is specified, the data is divided in
round-robin fashion with the specified block size in bytes.  Generally
speaking, the performance of file transfer is improved using this
parameter.</P
><P
>This parameter is effective only when two or more is specified
as the <SPAN
CLASS="TOKEN"
>parallel_streams</SPAN
> parameter.  This parameter is
only effective on a client node where the gfrep(1) command is executed.
<TT
CLASS="PARAMETER"
><I
>Host_specification</I
></TT
> specifies the source host(s)
for file replication instead of the destination host(s).</P
><P
><SPAN
CLASS="TOKEN"
>rate_limit</SPAN
>.  This parameter specifies the maximum
transfer rate (bps; bit per second) for a single connection, and is
introduced experimentally.  The parameter on a source filesystem node
is effective during parallel file replication.  <TT
CLASS="PARAMETER"
><I
>Host
specification</I
></TT
> specifies the destination host(s) for file
replication.  Note that this parameter has to be specified on a
source filesystem node, not on a client host, unlike the other
parameters.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	netparam&nbsp;parallel_streams=2	10.0.0.0/8<br>
	netparam&nbsp;stripe_unit_size=8192	10.0.0.0/8<br>
	netparam&nbsp;rate_limit=750000	192.168.0.0/24</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>sockopt </SPAN
><TT
CLASS="PARAMETER"
><I
>option</I
></TT
><I
CLASS="EMPHASIS"
>[=</I
><TT
CLASS="PARAMETER"
><I
>value</I
></TT
><I
CLASS="EMPHASIS"
>] [<SPAN
CLASS="TOKEN"
>LISTENER</SPAN
> | <TT
CLASS="PARAMETER"
><I
>Host_specification</I
></TT
>]</I
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>sockopt</SPAN
> parameter specifies the socket option
<TT
CLASS="PARAMETER"
><I
>option</I
></TT
> via the setsockopt(2) system call.</P
><P
>When <SPAN
CLASS="TOKEN"
>LISTENER</SPAN
> (all capital letters) is specified
by the second argument, the socket option is applied to any socket
on the server side (accepting side).</P
><P
>When the host_specification is specified by the second argument,
the socket option is applied to sockets that connect to the specified host(s).
If the second argument is "*", the socket option is applied to any
hosts on the client side (connecting side).</P
><P
>If the second argument is omitted, the socket option is applied
to every socket.</P
><P
>The following socket options can be specified.</P
><P
><SPAN
CLASS="TOKEN"
>debug</SPAN
>.  The <CODE
CLASS="CONSTANT"
>SO_DEBUG</CODE
> socket
option is specified.  A <TT
CLASS="PARAMETER"
><I
>value</I
></TT
> is not
necessary.</P
><P
><SPAN
CLASS="TOKEN"
>keepalive</SPAN
>.  The <CODE
CLASS="CONSTANT"
>SO_KEEPALIVE</CODE
>
socket option is specified.  A <TT
CLASS="PARAMETER"
><I
>value</I
></TT
> is not
necessary.</P
><P
><SPAN
CLASS="TOKEN"
>sndbuf</SPAN
>.  The <CODE
CLASS="CONSTANT"
>SO_SNDBUF</CODE
> socket
option is specified with a <TT
CLASS="PARAMETER"
><I
>value</I
></TT
>.</P
><P
><SPAN
CLASS="TOKEN"
>rcvbuf</SPAN
>.  The <CODE
CLASS="CONSTANT"
>SO_RCVBUF</CODE
> socket
option is specified with a <TT
CLASS="PARAMETER"
><I
>value</I
></TT
>.</P
><P
><SPAN
CLASS="TOKEN"
>tcp_nodelay</SPAN
>.  The <CODE
CLASS="CONSTANT"
>TCP_NODELAY</CODE
>
socket option is specified.  A <TT
CLASS="PARAMETER"
><I
>value</I
></TT
> is not
necessary.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	sockopt&nbsp;tcp_nodelay&nbsp;192.168.0.0/24<br>
	sockopt&nbsp;sndbuf=1048576&nbsp;10.0.0.0/8<br>
	sockopt&nbsp;sndbuf=1048576&nbsp;LISTENER<br>
	sockopt&nbsp;rcvbuf=1048576&nbsp;10.0.0.0/8<br>
	sockopt&nbsp;rcvbuf=1048576&nbsp;LISTENER</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>address_use</SPAN
> <TT
CLASS="PARAMETER"
><I
>Host_specification</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>address_use</SPAN
> statement specifies an IP address
or a network address that is given preference for connection when the
target host has several IP addresses.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	address_use&nbsp;192.168.0.0/24</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>client_architecture</SPAN
> <TT
CLASS="PARAMETER"
><I
>architecture</I
></TT
> <TT
CLASS="PARAMETER"
><I
>Host_specification</I
></TT
></DT
><DD
><P
>This directive specifies the default architecture name that may be used
when a client node accesses an executable file.
This directive only affects client nodes.
For filesystem nodes, architecture names registered in
the metadata server are used.</P
><P
>On the other hand, the environment variable, GFARM_ARCHITECTURE,
which specifies the default architecture name, just as in this directive,
affects both client nodes and filesystem nodes.</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	client_architecture&nbsp;i386-redhat8.0-linux&nbsp;linux-1.example.com<br>
	client_architecture&nbsp;i386-redhat8.0-linux&nbsp;linux-2.example.com<br>
	client_architecture&nbsp;sparc-sun-solaris8&nbsp;solaris-1.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>local_user_map</SPAN
> <TT
CLASS="PARAMETER"
><I
>user-map-file</I
></TT
></DT
><DD
><P
>This directive specifies a file name
<TT
CLASS="PARAMETER"
><I
>user-map-file</I
></TT
> for mapping global user names
to local user names</P
><P
>This directive is optional.
<TT
CLASS="PARAMETER"
><I
>user-map-file</I
></TT
> is needed when you have to use
the sharedsecret authentication method in the case where you have
different unix account names on different filesystem nodes.  In such a
case, the <TT
CLASS="PARAMETER"
><I
>user-map-file</I
></TT
> on each filesystem node
should have an entry from a unique global user name to each local user
name.</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	local_user_map&nbsp;/etc/gfarm/gfarm-usermap</P
><P
>Each line of the <TT
CLASS="PARAMETER"
><I
>user-map-file</I
></TT
> consists
of two fields separated by spaces; the first field is a global user
name, and the second field is a local user name.</P
><P
>Example of the user mapping file:</P
><P
CLASS="LITERALLAYOUT"
>	foobar&nbsp;foo<br>
	quux&nbsp;baz</P
><P
>According to the first line of this mapping file, a global user
name, "foobar", is mapped to a local user name,  "foo", on this node.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>identical_user_map</SPAN
> <TT
CLASS="PARAMETER"
><I
>validity</I
></TT
></DT
><DD
><P
>When <SPAN
CLASS="TOKEN"
>enable</SPAN
> is specified, the same global
username is used as the local account name when there is no
corresponding global user entry in a user map file specified by the
<SPAN
CLASS="TOKEN"
>local_user_map</SPAN
> directive. 
The default is <SPAN
CLASS="TOKEN"
>enable</SPAN
>.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	identical_user_map&nbsp;disable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>dir_cache_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>seconds</I
></TT
></DT
><DD
><P
>This directive specifies the time (in seconds) until a directory cache
in the gfarm library expires.
The default time is 86,400 seconds, i.e. one day.
The time can be specified by an environment variable,
GFARM_DIRCACHE_TIMEOUT, too.
The environment variable takes precedence over the directive.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	dir_cache_timeout&nbsp;60</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>host_cache_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>seconds</I
></TT
></DT
><DD
><P
>This directive specifies the time (in seconds) until the metadata cache
of the filesystem nodes in the gfarm library expires.
Newly added or removed hosts might not be seen until this timeout has
passed.
The default time is 600 seconds, i.e. ten minutes.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	host_cache_timeout&nbsp;60</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_cache_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>seconds</I
></TT
></DT
><DD
><P
>This directive specifies the time (in seconds) until the cache used for
filesystem node scheduling expires.
The cache holds information on each filesystem node, e.g. load average,
disk free space, and whether authentication succeeds or not.
The default time is 600 seconds, i.e. ten minutes.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	schedule_cache_timeout&nbsp;60</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>write_local_priority</SPAN
> <TT
CLASS="PARAMETER"
><I
>validity</I
></TT
></DT
><DD
><P
>Gfarm nearly always chooses localhost, when it selects a filesystem
node to write a file. By specifing the <SPAN
CLASS="TOKEN"
>disable</SPAN
> keyword in
this directive, Gfarm handles localhost the same as other
filesystem nodes.
The same thing can be achieved by specifying <SPAN
CLASS="TOKEN"
>disable</SPAN
>
as the value of the GFARM_WRITE_LOCAL_PRIORITY environment variable.
When both this directive and the environment variable are specified,
the value specified by the environment variable will be used.
The default is <SPAN
CLASS="TOKEN"
>enable</SPAN
>.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	write_local_priority&nbsp;disable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>write_target_domain</SPAN
> <TT
CLASS="PARAMETER"
><I
>domain</I
></TT
></DT
><DD
><P
>Gfarm tries to choose a filesystem node in the domain specified by
this directive, when it selects a node to write a file.
If there is no suitable node for writing in this domain, or if this
directive is not specified, the filesystem node will be chosen from
among all nodes.
You can specify this domain with the GFARM_WRITE_TARGET_DOMAIN environment
variable too.
When both this directive and the environment variable are specified,
the value specified by the environment variable will be used.
Note that if you specify this directive more than once, only the first one
will be used and the others are ignored.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	write_target_domain&nbsp;example.org</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>minimum_free_disk_space</SPAN
> <TT
CLASS="PARAMETER"
><I
>bytes</I
></TT
></DT
><DD
><P
>This directive specifies free disk space (in bytes) which is
required on filesystem nodes. The Gfarm scheduler excludes filesystem nodes
which have less free space than this parameter, when it
schedules nodes for jobs which may write files.
The free space value may have a suffix like ``k'' (kilo bytes), 
``M'' (mega bytes), ``G'' (giga bytes) and ``T'' (tera bytes).
The default size is 128M bytes.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	minimum_free_disk_space&nbsp;1G</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>gfsd_connection_cache</SPAN
> <TT
CLASS="PARAMETER"
><I
>number</I
></TT
></DT
><DD
><P
>This directive specifies maximum number of cached gfsd connections.
The default is 16.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	gfsd_connection_cache&nbsp;32</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>log_level</SPAN
> <TT
CLASS="PARAMETER"
><I
>priority_level</I
></TT
></DT
><DD
><P
>This directive specifies a level of log priority.
The log output, which priority is inferior to this level, will not be
sent to syslog or standard error.
The priority levels are "emerg", "alert", "crit", "err", "warning", "notice",
"info" and "debug" in highest first order.
The default level is "info".
It's not recommended to specify a level higher or equal to "crit".</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	log_level&nbsp;debug</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>record_atime </SPAN
><TT
CLASS="PARAMETER"
><I
>validity</I
></TT
></DT
><DD
><P
>When "enabled" is specified, Gfarm records last access time strictly.
When "disabled" is specified, the access time becomes inaccurate, but
such setting reduces the load of metadata updates, and may improve
performance.
The "disable" setting corresponds to "noatime" setting in usual filesystem.</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	record_atime&nbsp;disable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>root_directory_access </SPAN
><TT
CLASS="PARAMETER"
><I
>validity</I
></TT
></DT
><DD
><P
>When "disable" is specified, any file or directory cannot be
created in the root directory of a Gfarm file system.  This helps to
prevent from creating unintended files or directories in the root
directory.</P
><P
>Example:</P
><P
CLASS="LITERALLAYOUT"
>	root_directory_access&nbsp;disable</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="GRAMMAR"
></A
><H2
>GRAMMAR</H2
><P
>This is a grammar for gfarm.conf described using BNF
notation.</P
><P
CLASS="LITERALLAYOUT"
>	&#60;statement&#62;&nbsp;::=<br>
		  &#60;spool_statement&#62;&nbsp;|<br>
		  &#60;spool_server_listen_address_statement&#62;&nbsp;|<br>
		  &#60;spool_serverport_statement&#62;&nbsp;|<br>
		  &#60;spool_server_cred_type_statement&#62;&nbsp;|<br>
		  &#60;spool_server_cred_service_statement&#62;&nbsp;|<br>
		  &#60;spool_server_cred_name_statement&#62;&nbsp;|<br>
		  &#60;metadb_serverhost_statement&#62;&nbsp;|<br>
		  &#60;metadb_serverport_statement&#62;&nbsp;|<br>
		  &#60;metadb_server_cred_type_statement&#62;&nbsp;|<br>
		  &#60;metadb_server_cred_service_statement&#62;&nbsp;|<br>
		  &#60;metadb_server_cred_name_statement&#62;&nbsp;|<br>
		  &#60;agent_serverhost_statement&#62;&nbsp;|<br>
		  &#60;agent_serverport_statement&#62;&nbsp;|<br>
		  &#60;ldap_serverhost_statement&#62;&nbsp;|<br>
		  &#60;ldap_serverport_statement&#62;&nbsp;|<br>
		  &#60;ldap_base_dn_statement&#62;&nbsp;|<br>
		  &#60;ldap_bind_dn_statement&#62;&nbsp;|<br>
		  &#60;ldap_bind_password_statement&#62;&nbsp;|<br>
		  &#60;postgresql_serverhost_statement&#62;&nbsp;|<br>
		  &#60;postgresql_serverport_statement&#62;&nbsp;|<br>
		  &#60;postgresql_dbname_statement&#62;&nbsp;|<br>
		  &#60;postgresql_user_statement&#62;&nbsp;|<br>
		  &#60;postgresql_password_statement&#62;&nbsp;|<br>
		  &#60;postgresql_conninfo_statement&#62;&nbsp;|<br>
		  &#60;auth_statement&#62;&nbsp;|<br>
		  &#60;netparam_statement&#62;&nbsp;|<br>
		  &#60;sockopt_statement&#62;&nbsp;|<br>
		  &#60;address_use_statement&#62;&nbsp;|<br>
		  &#60;client_architecture_statement&#62;&nbsp;|<br>
		  &#60;option_statement&#62;&nbsp;|<br>
		  &#60;local_user_map_statement&#62;&nbsp;|<br>
		  &#60;identical_user_map_statement&#62;&nbsp;|<br>
		  &#60;dir_cache_timeout_statement&#62;&nbsp;|<br>
		  &#60;host_cache_timeout_statement&#62;&nbsp;|<br>
		  &#60;schedule_cache_timeout_statement&#62;&nbsp;|<br>
		  &#60;write_local_priority_statement&#62;&nbsp;|<br>
		  &#60;write_target_domain_statement&#62;&nbsp;|<br>
		  &#60;minimum_free_disk_space_statement&#62;&nbsp;|<br>
		  &#60;gfsd_connection_cache_statement&#62;&nbsp;|<br>
		  &#60;log_level_statement&#62;&nbsp;|<br>
		  &#60;record_atime_statement&#62;&nbsp;|<br>
		  &#60;root_directory_access_statement&#62;<br>
	&#60;spool_statement&#62;&nbsp;::=&nbsp;"spool"&nbsp;&#60;pathname&#62;<br>
	&#60;spool_server_listen_address_statement&#62;&nbsp;::=<br>
		  "spool_server_listen_address"&nbsp;&#60;ipv4_address&#62;<br>
	&#60;spool_serverport_statement&#62;&nbsp;::=&nbsp;"spool_serverport"&nbsp;&#60;hostname&#62;<br>
	&#60;spool_server_cred_type_statement&#62;&nbsp;::=<br>
		  "spool_server_cred_type"&nbsp;&#60;cred_type&#62;<br>
	&#60;spool_server_cred_service_statement&#62;&nbsp;::=<br>
		  "spool_server_cred_service"&nbsp;&#60;cred_service&#62;<br>
	&#60;spool_server_cred_name_statement&#62;&nbsp;::=<br>
		  "spool_server_cred_name"&nbsp;&#60;cred_name&#62;<br>
	&#60;metadb_serverhost_statement&#62;&nbsp;::=&nbsp;"metadb_serverhost"&nbsp;&#60;hostname&#62;<br>
	&#60;metadb_serverport_statement&#62;&nbsp;::=&nbsp;"metadb_serverport"&nbsp;&#60;portnumber&#62;<br>
	&#60;metadb_server_cred_type_statement&#62;&nbsp;::=<br>
		  "metadb_server_cred_type"&nbsp;&#60;cred_type&#62;<br>
	&#60;metadb_server_cred_service_statement&#62;&nbsp;::=<br>
		  "metadb_server_cred_service"&nbsp;&#60;cred_service&#62;<br>
	&#60;metadb_server_cred_name_statement&#62;&nbsp;::=<br>
		  "metadb_server_cred_name"&nbsp;&#60;cred_name&#62;<br>
	&#60;agent_serverhost_statement&#62;&nbsp;::=&nbsp;"agent_serverhost"&nbsp;&#60;hostname&#62;<br>
	&#60;agent_serverport_statement&#62;&nbsp;::=&nbsp;"agent_serverport"&nbsp;&#60;portnumber&#62;<br>
	&#60;ldap_serverhost_statement&#62;&nbsp;::=&nbsp;"ldap_serverhost"&nbsp;&#60;hostname&#62;<br>
	&#60;ldap_serverport_statement&#62;&nbsp;::=&nbsp;"ldap_serverport"&nbsp;&#60;portnumber&#62;<br>
	&#60;ldap_base_dn_statement&#62;&nbsp;::=&nbsp;"ldap_base_dn"&nbsp;&#60;string&#62;<br>
	&#60;ldap_bind_dn_statement&#62;&nbsp;::=&nbsp;"ldap_bind_dn"&nbsp;&#60;string&#62;<br>
	&#60;ldap_bind_password_statement&#62;&nbsp;::=&nbsp;"ldap_bind_password"&nbsp;&#60;string&#62;<br>
	&#60;postgresql_serverhost_statement&#62;&nbsp;::=&nbsp;"postgresql_serverhost"&nbsp;&#60;hostname&#62;<br>
	&#60;postgresql_serverport_statement&#62;&nbsp;::=&nbsp;"postgresql_serverport"&nbsp;&#60;portnumber&#62;<br>
	&#60;postgresql_dbname_statement&#62;&nbsp;::=&nbsp;"postgresql_dbname"&nbsp;&#60;string&#62;<br>
	&#60;postgresql_user_statement&#62;&nbsp;::=&nbsp;"postgresql_user"&nbsp;&#60;string&#62;<br>
	&#60;postgresql_password_statement&#62;&nbsp;::=&nbsp;"postgresql_password"&nbsp;&#60;string&#62;<br>
	&#60;postgresql_conninfo_statement&#62;&nbsp;::=&nbsp;"postgresql_conninfo"&nbsp;&#60;string&#62;<br>
	&#60;auth_statement&#62;&nbsp;::=<br>
		  "auth"&nbsp;&#60;validity&#62;&nbsp;&#60;auth_method&#62;&nbsp;&#60;hostspec&#62;<br>
	&#60;auth_method&#62;&nbsp;::=&nbsp;"gsi"&nbsp;|&nbsp;"gsi_auth"&nbsp;|&nbsp;"sharedsecret"<br>
	&#60;netparam_statement&#62;&nbsp;::=<br>
		  "netparam"&nbsp;&#60;netparam_option&#62;=&#60;number&#62;&nbsp;[&#60;hostspec&#62;]<br>
	&#60;netparam_option&#62;&nbsp;::=&nbsp;"parallel_streams"&nbsp;|&nbsp;"stripe_unit_size"&nbsp;|<br>
		  "rate_limit"<br>
	&#60;sockopt_statement&#62;&nbsp;::=<br>
		  "sockopt"&nbsp;&#60;socket_option&#62;[=&#60;number&#62;]&nbsp;[""LISTENER"&nbsp;|&nbsp;&#60;hostspec&#62;]<br>
	&#60;socket_option&#62;&nbsp;=&nbsp;"debug"&nbsp;|&nbsp;"keepalive"&nbsp;|&nbsp;"sndbuf"&nbsp;|&nbsp;"rcvbuf"&nbsp;|<br>
		  "tcp_nodelay"<br>
	&#60;address_use_statement&#62;&nbsp;::=&nbsp;&nbsp;"address_use"&nbsp;&#60;hostspec&#62;<br>
	&#60;client_architecture_statement&#62;&nbsp;::=<br>
		  "client_architecture"&nbsp;&#60;architecture&#62;&nbsp;&#60;hostspec&#62;<br>
	&#60;option_statement&#62;&nbsp;::=&nbsp;"option"&nbsp;&#60;an_option&#62;<br>
	&#60;an_option&#62;&nbsp;::=&nbsp;"noatime"<br>
	&#60;local_user_map_statement&#62;&nbsp;::=&nbsp;&nbsp;"local_user_map"&nbsp;&#60;pathname&#62;<br>
	&#60;identical_user_map_statement&#62;&nbsp;::=&nbsp;"identical_user_map"&nbsp;&#60;validity&#62;<br>
	&#60;dir_cache_timeout_statement&#62;&nbsp;::=	"dir_cache_timeout"&nbsp;&#60;number&#62;<br>
	&#60;host_cache_timeout_statement&#62;&nbsp;::=&nbsp;"host_cache_timeout"&nbsp;&#60;number&#62;<br>
	&#60;schedule_cache_timeout_statement&#62;&nbsp;::=&nbsp;"schedule_cache_timeout"&nbsp;&#60;number&#62;<br>
	&#60;write_local_priority_statement&#62;&nbsp;::=&nbsp;"write_local_priority"&nbsp;&#60;validity&#62;<br>
	&#60;write_target_domain_statement&#62;&nbsp;::=&nbsp;"write_target_domain"&nbsp;&#60;string&#62;<br>
	&#60;minimum_free_disk_space_statement&#62;&nbsp;::=<br>
		  "minimum_free_disk_space"&nbsp;&#60;size&#62;<br>
	&#60;gfsd_connection_cache_statement&#62;&nbsp;::=&nbsp;"gfsd_connection_cache"&nbsp;&#60;number&#62;<br>
	&#60;log_level_statement&#62;&nbsp;::=&nbsp;"log_level"&nbsp;&#60;log_priority&#62;<br>
	&#60;record_atime_statement&#62;&nbsp;::=&nbsp;"record_atime"&nbsp;&#60;validity&#62;<br>
	&#60;root_directory_access_statement&#62;&nbsp;::=&nbsp;"root_directory_access"&nbsp;&#60;validity&#62;<br>
	&#60;hostspec&#62;&nbsp;::=&nbsp;&#60;ipv4_address&#62;&nbsp;|&nbsp;&#60;ipv4_address&#62;&nbsp;"/"&nbsp;&#60;address_mask&#62;&nbsp;|<br>
		  &#60;hostname&#62;&nbsp;|&nbsp;"."&nbsp;&#60;domain_name&#62;&nbsp;|&nbsp;"*"<br>
	&#60;pathname&#62;&nbsp;::=&nbsp;&#60;pathname_character&#62;&nbsp;&#60;pathname_character&#62;*<br>
	&#60;pathname_character&#62;&nbsp;::=&nbsp;&#60;hostname_character&#62;&nbsp;|&nbsp;","&nbsp;|&nbsp;"/"&nbsp;|&nbsp;"_"<br>
	&#60;hostname&#62;&nbsp;::=&nbsp;&#60;hostname_character&#62;&nbsp;&#60;hostname_character&#62;*<br>
	&#60;hostname_character&#62;&nbsp;::=&nbsp;&#60;alphabet&#62;&nbsp;|&nbsp;&#60;digit&#62;&nbsp;|&nbsp;"-"&nbsp;|&nbsp;"."<br>
	&#60;portnumber&#62;&nbsp;::=&nbsp;&#60;number&#62;<br>
	&#60;size&#62;&nbsp;::=&nbsp;&#60;number&#62;&nbsp;[&nbsp;"k"&nbsp;|&nbsp;"M"&nbsp;|&nbsp;"G"&nbsp;|&nbsp;"T"&nbsp;]<br>
	&#60;number&#62;&nbsp;::=&nbsp;&#60;digit&#62;&nbsp;[&#60;digit&#62;*]<br>
	&#60;digit&#62;&nbsp;::=&nbsp;"0"&nbsp;|&nbsp;"1"&nbsp;|&nbsp;"2"&nbsp;|&nbsp;"3"&nbsp;|&nbsp;"4"&nbsp;|&nbsp;"5"&nbsp;|&nbsp;"6"&nbsp;|&nbsp;"7"&nbsp;|&nbsp;"8"&nbsp;|&nbsp;"9"<br>
	&#60;string&#62;&nbsp;::=&nbsp;"""&nbsp;&#60;double_quoted_character&#62;*&nbsp;"""<br>
	&#60;double_quoted_character&#62;&nbsp;::=<br>
		  &#60;any_character_except_backslash_and_double_quotation&#62;&nbsp;|<br>
		  "\\"&nbsp;|&nbsp;"\""<br>
	&#60;validity&#62;&nbsp;::=&nbsp;"enable"&nbsp;|&nbsp;"disable"<br>
	&#60;log_priority&#62;&nbsp;::=&nbsp;"emerg"&nbsp;|&nbsp;"alert"&nbsp;|&nbsp;"crit"&nbsp;|&nbsp;"err"&nbsp;|&nbsp;"warning"&nbsp;|<br>
		  "notice"&nbsp;|&nbsp;"info"&nbsp;|&nbsp;"debug"</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="EXAMPLES"
></A
><H2
>EXAMPLES</H2
><P
>The following is an example usin PostgreSQL to store the metadata,
and to allow access from filesystem nodes and clients at IP address
192.168.0.0/24, via sharedsecret authentication.</P
><P
CLASS="LITERALLAYOUT"
>spool&nbsp;/var/spool/gfarm<br>
spool_serverport&nbsp;600<br>
metadb_serverhost&nbsp;metadb.example.org<br>
metadb_serverport&nbsp;601<br>
postgresql_serverhost&nbsp;metadb.example.org<br>
postgresql_serverport&nbsp;5432<br>
postgresql_dbname&nbsp;gfarm<br>
postgresql_user&nbsp;gfarm<br>
postgresql_password&nbsp;"secret-postgresql-password"<br>
auth&nbsp;enable&nbsp;sharedsecret&nbsp;192.168.0.0/24<br>
sockopt&nbsp;keepalive</P
><P
>The following is an example using LDAP to store the metadata,
and to allow access from filesystem nodes and clients at any IP address,
via GSI authentication.</P
><P
CLASS="LITERALLAYOUT"
>spool&nbsp;/var/spool/gfarm<br>
spool_serverport&nbsp;600<br>
metadb_serverhost&nbsp;metadb.example.com<br>
metadb_serverport&nbsp;601<br>
ldap_serverhost&nbsp;metadb.example.com<br>
ldap_serverport&nbsp;389<br>
ldap_base_dn&nbsp;"dc=example,&nbsp;dc=com"<br>
ldap_bind_dn&nbsp;"cn=gfarmuser,&nbsp;dc=example,&nbsp;dc=com"<br>
ldap_bind_password&nbsp;"secret-ldap-password"<br>
auth&nbsp;enable&nbsp;gsi&nbsp;*<br>
sockopt&nbsp;keepalive</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="FILES"
></A
><H2
>FILES</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>%%SYSCONFDIR%%/gfarm.conf</TT
></DT
><DD
><P
></P
></DD
><DT
><TT
CLASS="FILENAME"
>$HOME/.gfarmrc</TT
></DT
><DD
><P
></P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SEE-ALSO"
></A
><H2
>SEE ALSO</H2
><P
>  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfmd</SPAN
>(8)</SPAN
>,
  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfsd</SPAN
>(8)</SPAN
>,
  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfarm_agent</SPAN
>(1)</SPAN
>,
  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>setsockopt</SPAN
>(2)</SPAN
></P
></DIV
></BODY
></HTML
>
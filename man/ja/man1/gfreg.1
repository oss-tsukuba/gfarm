.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFREG" "1" "20 April 2005" "Gfarm" ""
.SH NAME
gfreg \- Gfarm ファイルシステムへのファイル，ファイルフラグメント，ディレクトリの登録
.SH SYNOPSIS

\fBgfreg\fR [ \fB-h \fIファイルシステムノード\fB\fR ] [ \fB-a \fIarchitecture\fB\fR ] \fB\fIprogram\fB\fR \fB...\fR \fB\fIgfarm-URL\fB\fR


\fBgfreg\fR [ \fB-D \fIドメイン名\fB\fR ] \fB\fIlocalfile\fB\fR \fB...\fR \fB\fIgfarm-URL\fB\fR


\fBgfreg\fR \fB-N \fIフラグメント総数\fB\fR \fB-I \fIフラグメント番号\fB\fR [ \fB-h \fIファイルシステムノード\fB\fR ] \fB\fIlocalfile\fB\fR \fB...\fR \fB\fIgfarm-URL\fB\fR


\fBgfreg\fR \fB-r\fR [ \fB-h \fIファイルシステムノード\fB\fR ] [ \fB-a \fIarchitecture\fB\fR ] [ \fB\fIdirectory\fB\fR | \fB\fIprogram\fB\fR | \fB\fIlocalfile\fB\fR ] \fB...\fR \fB\fIgfarm-URL\fB\fR

.SH "DESCRIPTION"
.PP
第1の形式の場合，引数 program に指定したローカルディスク上の
プログラム・ファイルを，gfarm-URL に登録します．gfarm-URL がディレクト
リの場合は，複数の program を指定することができます．これ以降，
gfrun および gfmpirun_p4 で指定するプログラム名として，この URL が
使えるようになります．オプション -a でプログラムの動作するアーキテク
チャを指定しなかった場合，あるいはオプション -h で登録するファイルシス
テムノードを指定しなかった場合には，gfreg コマンドを実行したホストのアー
キテクチャと同じであると仮定します．ただし，そのホストが Gfarm メタサー
バに登録されている必要があります．
.PP
第2の形式の場合，一つ以上の複数のlocalfileをGfarmファイルとして
登録します．ファイルの複製が作成されるファイルシステムノードは自動的に
CPU負荷により選ばれますが，オプション -D により選択されるファイルシス
テムノードのドメイン名を制限することができます．
.PP
第3の形式の場合，localfileをGfarmファイルのフラグメントとして登
録します．オプション -N と -I で，総フラグメント数と，このlocalfileの
フラグメント番号を必ず指定する必要があります．Gfarm-URL がディレクトリ
の場合は localfile を複数指定することが可能です．ファイルの複製が作成
されるファイルシステムノードは自動的にCPU負荷により選ばれますが，オプ
ション -h により明示的に指定することもできます．ただ，ファイルシステム
ノードで gfreg を実行した場合は常に自ノードが選ばれてしまうため，ファ
イルを分散させて配置したい場合はオプション -h を指定する必要があります．
.PP
第4の形式の場合，directory, program, localfile を gfarm-URL に
登録します．directory にサブディレクトリやファイルが含まれていれば再帰
的に登録します．ディレクトリに含まれている，あるいは，引数 localfile
で指定されている非実行ファイルは，一つのフラグメントからなる Gfarmファ
イルとして登録されます．
Gfarm-URL がディレクトリとして存在する場合は，複数の directory,
program, localfile を Gfarm-URL ディレクトリに登録します．
他の形式と異なり，これらをいっしょに引数として指定することもできます．
gfarm_URL がファイルの場合は program あるいは localfile を一つだけ登録
できます．gfarm-URL の内容はローカルファイルの内容に置き換えられます。
gfarm_URL が存在しない場合は，directory, program, localfile のいずれか
一つを登録できます．
ファイルが登録されるファイルシステムノードとオプション -a -h について
は，上記の第1の形式での説明を参照しください．
.SH "OPTIONS"
.TP
\fB-?\fR
引数オプションを表示します．
